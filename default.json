{
  "extends": [
    "github>balena-io/renovate-config//.github/renovate"
  ],
  "enabledManagers": [
    "npm",
    "dockerfile",
    "docker-compose"
  ],
  "force": {
    "constraints": {
      "node": "< 17.0.0",
      "npm": "< 9.0.0"
    }
  },
  "pruneStaleBranches": false,
  "branchConcurrentLimit": 3,
  "prConcurrentLimit": 3,
  "ignoreDeps": [
    "node"
  ],
  "packageRules": [
    {
      "matchPackagePrefixes": ["@balena"],
      "matchPackageNames": ["autumndb"],
      "commitMessageTopic": "dependencies",
      "matchCurrentVersion": ">=1.0.0",
      "matchUpdateTypes": [
        "patch"
      ],
      "automerge": true
    },
    {
      "excludePackagePrefixes": ["@balena"],
      "excludePackageNames": ["autumndb"],
      "commitMessageTopic": "dependencies",
      "extends": ["schedule:weekends"],
      "matchCurrentVersion": ">=1.0.0",
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "automerge": true
    },
    {
      "groupName": "external-major",
      "excludePackagePrefixes": ["@balena"],
      "excludePackageNames": ["autumndb"],
      "commitMessageTopic": "dependencies",
      "extends": ["schedule:weekends"],
      "matchUpdateTypes": [
        "major"
      ]
    },
    {
      "groupName": "external-zero-minor",
      "excludePackagePrefixes": ["@balena"],
      "commitMessageTopic": "dependencies",
      "commitMessageExtra": "(external v0 minor bumps)",
      "extends": ["schedule:weekends"],
      "matchCurrentVersion": "<1.0.0",
      "matchUpdateTypes": [
        "minor"
      ]
    }
  ]
}
